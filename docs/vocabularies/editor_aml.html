<!DOCTYPE html>
<div id="editor_aml" class="imported">
    <div class="tabs">
        <ul>
            <li data-bind="click: () => { selectedFormat('aml') },
                           css: { 'is-active': selectedFormat() === 'aml' }">
                <a>AML</a>
            </li>
            <li data-bind="click: () => { selectedFormat('jsonld') },
                           css: { 'is-active': selectedFormat() === 'jsonld' }">
                <a>JSON-LD</a>
            </li>
            <li data-bind="click: () => { selectedFormat('query') },
                           css: { 'is-active': selectedFormat() === 'query' }">
                <a>Query</a>
            </li>
            <li data-bind="click: () => { selectedFormat('taxonomy') },
                           css: { 'is-active': selectedFormat() === 'taxonomy' }">
                <a data-bind="text: selectedReference() && selectedReference().kind === 'dialect' ? 'AST Graph' : ( selectedReference() && selectedReference().kind === 'vocabulary' ? 'Classes Taxonomy' : 'Graph')">Taxonomy</a>
            </li>

            <li data-bind="click: () => { selectedFormat('taxonomy-properties') },
                           visible: selectedReference() != null && selectedReference().kind === 'vocabulary',
                           css: { 'is-active': selectedFormat() === 'taxonomy-properties' }">
                <a data-bind="visible: () => { selectedReference().kind === 'vocabulary' }">Properties Taxonomy</a>
            </li>
        </ul>
    </div>
    <div id="editor-aml-container" class="editor-container" data-bind="visible: selectedFormat() == 'aml' || selectedFormat() == 'jsonld'"></div>
    <div id="taxonomyContainerClasses" class="graph-container" data-bind="visible: selectedFormat() === 'taxonomy'"></div>
    <div id="taxonomyContainerProperties" class="graph-container" data-bind="visible: selectedFormat() === 'taxonomy-properties'"></div>
    <div id="query"
         class="imported box"
         style="overflow: auto"
         data-bind="visible: selectedFormat() === 'query'">
        <p class="control">
        <span class="select">
            <select data-bind="options: query.predefinedQueries,
                               optionsText: 'name',
                               value: query.selectedPredefinedQuery,
                               optionsCaption: 'Useful queries...'">
            </select>
        </span>
        </p>
        <p class="control">
            <textarea class="textarea" data-bind="textInput: query.text" style="font-family: Consolas, Menlo, Monaco, monospace; height: 250px"></textarea>
        </p>
        <div class="control is-grouped">
            <p class="control">
                <button data-bind="click: query.submit.bind(query)"class="button is-primary">Submit</button>
            </p>
        </div>
        <table class="table" style="text-size: 10px">
            <thead>
            <tr data-bind="foreach: query.variables">
                <th data-bind="text: $data"></th>
            </tr>
            </thead>
            <tbody data-bind="foreach: query.bindings">
            <tr data-bind="foreach: $root.query.variables">
                <td data-bind="text: $root.ui.bindingLabel($parent[$data])"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div id="query-pagination" style="margin-bottom: 40px" data-bind="if: query.currentPage() !== -1 && selectedFormat() === 'query'">
        <div><a style="color: #14A7DE; font-weight:bolder; float: left; margin-left: 10px" data-bind="click: query.previousPage.bind(query)">prev</a></div>
        <span style="float: left; margin-left: 10px" data-bind="text: 'page ' + (query.currentPage() + 1) + ' of ' + Math.ceil(query.results.length / query.perPage)">page</span>
        <div><a style="color: #14A7DE; font-weight:bolder; float:left; margin-left: 10px" data-bind="click: query.nextPage.bind(query)">next</a></div>
    </div>
</div>
